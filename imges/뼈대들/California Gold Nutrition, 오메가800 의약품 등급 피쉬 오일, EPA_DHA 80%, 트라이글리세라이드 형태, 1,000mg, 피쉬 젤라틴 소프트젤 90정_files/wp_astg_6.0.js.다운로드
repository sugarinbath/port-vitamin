"use strict";var WiderPlanetCryptoJS=WiderPlanetCryptoJS||function(t,e){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(t){r.prototype=this;var e=new r;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-8*(r%4)&255)<<24-8*((i+r)%4);else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-8*(n%4),e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new a.init(n,e)}}),s=n.enc={},c=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var r=e[i>>>2]>>>24-8*(i%4)&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-4*(i%8);return new a.init(n,e/2)}},u=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-8*(i%4)&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-8*(i%4);return new a.init(n,e)}},d=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o),s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0);if(e=s*o,r=t.min(4*e,r),e){for(var c=0;c<e;c+=o)this._doProcessBlock(i,c);c=i.splice(0,e),n.sigBytes-=r}return new a.init(c,r)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}});var p=n.algo={};return n}(Math);!function(){var t=WiderPlanetCryptoJS,e=t.lib,n=e.WordArray,i=e.Hasher,r=[],e=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=0;80>u;u++){if(16>u)r[u]=0|t[e+u];else{var d=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=d<<1|d>>>31}d=(i<<5|i>>>27)+c+r[u],d=20>u?d+((o&a|~o&s)+1518500249):40>u?d+((o^a^s)+1859775393):60>u?d+((o&a|o&s|a&s)-1894007588):d+((o^a^s)-899497514),c=s,s=a,a=o<<30|o>>>2,o=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[(i+64>>>9<<4)+14]=Math.floor(n/4294967296),e[(i+64>>>9<<4)+15]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=i._createHelper(e),t.HmacSHA1=i._createHmacHelper(e)}(),function(t){function e(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}function n(t,e){var n=new Date;n.setTime(n.getTime()+18e5);var r="expires="+n.toUTCString(),o="domain=."+i(location.host);document.cookie=t+"="+e+";"+o+";"+r+";path=/"}function i(t){var e=t.split(".").reverse(),n=2;return/(co.kr|go.kr|pe.kr)$/.test(t)&&(n=3),e=e.splice(0,n),t=e.reverse().join(".")}function r(t,e){!function(n,i,r){var o,a=n;document.getElementById(r)||(o=document.createElement(i),o.id=r,o.addEventListener?o.addEventListener("load",e,!1):o.onload=o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||("function"==typeof e&&e(),o.onload=null,o.onreadystatechange=null)},o.src=t.js,a.appendChild(o))}(t.dom,"script",t.id)}function o(){var t=Array.from(arguments),e=["DEBUG","INFO","ERROR","TAG"].indexOf(t[0])!==-1?t[0]:"LOG";if("LOG"!==e&&t.splice(0,1),v){var n,i=C.length;for(n=0;n<i;n++)C[n].ts=(new Date).getTime(),v.emit("client_message",C[n]);C=[],v.emit("client_message",{type:e,ts:(new Date).getTime(),message:t})}else C.push({type:e,message:t})}function a(){o("DEBUG",Array.from(arguments))}function s(){o("INFO",Array.from(arguments))}function c(){o("ERROR",Array.from(arguments)),I="ERROR"}function u(){o("TAG",Array.from(arguments))}function d(){var t,e=!1;try{localStorage&&"function"==typeof localStorage.setItem&&(localStorage.setItem("_wp_uid_tmp","a"),t=localStorage.getItem("_wp_uid_tmp"),localStorage.removeItem("_wp_uid_tmp"),"a"===t&&(e=!0))}catch(n){}return e}function f(){var t="";try{t=localStorage.getItem("_wp_uid"),t&&0===t.indexOf("2-")&&(t=decodeURIComponent(t))}catch(e){}return t}function p(){function t(t){null!=i&&!function(t){var e=window.document.createElement("IFRAME");e.width="1px",e.height="1px",e.style.display="none",e.src=t,e.title="tgpairing",e.addEventListener("load",function(t){try{e.contentWindow.postMessage({},n)}catch(i){}}),i.appendChild(e),setTimeout(function(){i.removeChild(e)},3e3)}(t)}try{if(/(50788)/.test(y))return;var e=navigator.userAgent;if(/(iPhone|iPad|iPod)/.test(e)){if(/(HybridShop)/.test(e))return;if(/app/i.test(e.split("AppleWebKit")[1]))return;if(e.indexOf("Safari/")===-1||e.split("Safari/")[1].length>10)return}var n="https://astg.widerplanet.com";window.addEventListener("message",function(t){new Image;try{if(n!==t.origin)return;var e=t.data;e._wp_uid&&localStorage.setItem("_wp_uid",encodeURIComponent(e._wp_uid))}catch(i){}},!1);var i=window.document.getElementById("wp_tg_cts");t(n+"/delivery/storage")}catch(r){}}function h(e,n,i){if(n=n?n:"DEFAULT",S=i||{},y)return void c("init 이 두번 되었음. 이전 client:"+y+", 새로운 client:"+e);if(E.indexOf(n)===-1)return void c(n+" 은 지원하지 않는 타입입니다.");if(y=e||"",y||c("client id 가 입력되지 않음"),n){var r,o,a,s,u,d,f,p=[],h=function(t){return"cart"!==r.toLowerCase()||t.t?"purchasecomplete"!==r.toLowerCase()||t.q||(t.q=1):t.t=t.i,t};switch(r=t.wp_page_type||"",n){case"MALL":if(o=t.document.getElementsByName("wp_detection"),0===o.length){for(var l=document.getElementsByTagName("span"),g=[],w=0;w<l.length;w++){var v=l[w];"wp_detection"==v.getAttribute("name")&&g.push(v)}o=g}for(s=o.length,d={},a=0;a<s;a++)f=o[a].getAttribute("tag"),f&&(d[f]&&(d=h(d),p.push(d),d={}),d[f]=o[a].innerText);p.push(h(d)),u={ty:r,items:p},m(u)}}}function l(t){return"string"==typeof t?encodeURIComponent(t):""}function g(t,n){var i=b,o=d(),a="";o&&(a=f(),p());var s,h=a||e("_wp_uid"),g=e("_ga");if(!y)return void c("init 되지 않았음 (clientId 가 없음)");i+="&ti="+y,i+="&ty="+t,i+="&device="+(B?"mobile":"web"),""!==g&&"GA"===g.substring(0,2)&&(g=g.substring(2,g.length).split("."),4===g.length&&/[0-9]/.test(g[0])&&g[1]&&/^[0-9]+$/.test(g[1])&&g[2]&&/^[0-9]+$/.test(g[2])&&g[3]&&/^[0-9]+$/.test(g[3])&&(g[2]=parseFloat(g[2]).toString(32),g[3]=parseFloat(g[3]).toString(32),g=g.reverse().join("-"),i+="&ga="+g)),h&&(i+="&wp_uid="+encodeURIComponent(h)),S.setCookie===!0&&S.cookieKey&&(i+="&moaid="+e(S.cookieKey),i+="&msck="+S.cookieKey),i+=document.charset?"&charset="+document.charset:parent.document.characterSet?"&charset="+parent.document.characterSet:"",i+="&tc="+(new Date).getTime();for(s in n)i+="&"+s+"="+n[s];document.referrer&&(i+="&ref="+l(document.referrer)),document.location.href&&(i+="&loc="+l(document.location.href)),i&&document.createElement&&null!=w&&(u(i),r({id:"wp_tag_script_"+(new Date).getTime(),js:i,dom:w},function(){}),t?["Home","Item","Cart","PurchaseComplete","Join","Login","Wish"].indexOf(t)!==-1&&(I=t):I=!1)}function m(t){t=t||{};var i=t.mud?"":"home",r=[],o=t.isForce||!1,a=t.mud||!1,u=0,d="";a!==!1&&(a=encodeURIComponent(JSON.stringify(a)),u=a.length),t&&(i=t.ty?t.ty.toLowerCase():i,r=t.items||[]);if(!_[i]&&!a)return void c("잘못된 이벤트 타입",i);if(i=_[i],a&&(i||(i=t.ty||"unknown"),d=e(x),d||(d="1_"+(new Date).getTime()),n(x,d)),"ERROR"===I)return void s("에러가 발견되어 "+i+" 테그 무시");"home"===I&&s("홈 테그가 호출되어 "+i+" 테그 무시");var f,p,h={};if(t.hcuid){t.hcuid=t.hcuid?t.hcuid.replace(/^\s+/,"").replace(/\s+$/,""):"";var l=/[\s]/g;t.hcuid.length>2&&0==l.test(t.hcuid)&&""!=t.hcuid&&"undefined"!=typeof t.hcuid&&t.hcuid+""!="0"&&(t.hcuid=WiderPlanetCryptoJS.SHA1(t.hcuid),h.hcuid=t.hcuid)}if(["Item","Cart","PurchaseComplete","Join","Login"].indexOf(i)!=-1){var m=0;0===r.length&&c(i+" 인데 items 정보가 없음.");for(f in r)if(r.hasOwnProperty(f)){var y=["i","p","q","t","u","b"],w=r[f];for(p in y)w.hasOwnProperty(y[p])&&(h[""+y[p]+m]=encodeURIComponent((w[y[p]]+"").replace(/(=|&)/g," ")));"undefined"==typeof w.i||""===w.i?c(i+" "+w.i+" 에 아이템 아이디(i)가 없음"):/(상품 ID)/.test(w.i)&&c(i+" "+w.i+" 에 예제 값(상품 ID)이 입력되어 있음"),"undefined"==typeof w.t||""===w.t?c(i+" "+w.t+" 에 아이템 이름(t)가 없음"):/(상품 ID)/.test(w.t)&&c(i+" "+w.t+" 에 예제 값(상품명)이 입력되어 있음"),["PurchaseComplete","Join","Login"].indexOf(i)!=-1&&("undefined"!=typeof w.p&&""!=w.p||c(i+" "+w.p+" 에 가격정보(p)가 없음"),"undefined"!=typeof w.q&&""!=w.q||c(i+" "+w.q+" 에 수량정보(q)가 없음")),m++}}if(a&&(h.msid=d,h.mudSize=u,u<2800&&(h.mud=a)),"ERROR"===I)return void s("에러가 발견되어 "+i+" 테그 무시");if(I){if(!o)return void s("다른 테그 ("+I+") 가 호출되어 "+i+" 테그 무시");s("다른 테그 ("+I+") 가 호출 되었으나 강제로 "+i+" 테그 호출")}g(i,h)}if(!t.widerplanet_tag_script){var y,w,v,_={home:"Home",item:"Item",join:"Join",purchase:"PurchaseComplete",purchasecomplete:"PurchaseComplete",login:"Login",cart:"Cart",wish:"Wish"},A=/showDebug=/.test(t.location.href),S={},b="https://astg.widerplanet.com/delivery/wpc.php?v=1&ver=6.0&r=1&md=bs",C=[],I=!1,B=!!/(mobile|android)/gi.test(navigator.userAgent),E=["DEFAULT","MALL"],x="_msid";if(!t.document.getElementById("wp_tg_cts")){var O=t.document.getElementById("wp_ts"),R=document.createElement("div");if(R.setAttribute("style","display:none"),R.setAttribute("id","wp_tg_cts"),O)O.parentNode.appendChild(R);else try{var k,L,P=document.getElementsByTagName("script");for(k=0;k<P.length;k++)if(L=P[k],/astg_6.0.js/.test(L.getAttribute("src"))){L.setAttribute("id","wp_ts"),L.parentNode.appendChild(R);break}}catch(L){}}w=t.document.getElementById("wp_tg_cts");var T,D,H;A&&(T=t.location.href,D=T.split("showDebug=")[1]||"1",H="https://hulk.widerplanet.com",r({id:"wp_tag_debug_socket",js:H+"/socket.io/socket.io.js",dom:w},function(){a("io 로딩됨");try{v=t.io.connect(H+"/socket_tag_"+D)}catch(e){}a("소켓 연결됨")})),Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},i=Math.pow(2,53)-1,r=function(t){var e=n(t);return Math.min(Math.max(e,0),i)};return function(t){var n=this,i=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,a=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof a){if(!e(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var s,c=r(i.length),u=e(n)?Object(new n(c)):new Array(c),d=0;d<c;)s=i[d],a?u[d]="undefined"==typeof o?a(s,d):a.call(o,s,d):u[d]=s,d+=1;return u.length=c,u}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),t.widerplanet_tag_script={init:h,tag:m},t.wpts||(t.wpts=t.widerplanet_tag_script)}}(window);